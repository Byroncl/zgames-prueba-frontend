<div class="card">
  <div class="card-header bg-success text-white">
    <strong>Cupon de Apuesta</strong>
  </div>
  <div class="card-body">
    <div *ngIf="selectedBet; else noSelection">
      <p><strong>Evento:</strong> {{ selectedBet.event }}</p>
      <p><strong>Seleccion:</strong> {{ selectedBet.team }}</p>
      <p><strong>Cuota:</strong> {{ selectedBet.odds }}</p>

      <form [formGroup]="betForm" (ngSubmit)="confirmBet()">
        <div class="form-group">
          <label for="betAmount">Monto de la apuesta:</label>
          <input
            type="number"
            id="betAmount"
            class="form-control"
            formControlName="betAmount"
            placeholder="Ingresa el monto"
          />
          <!-- ValidaciÃ³n -->
          <div *ngIf="betForm.get('betAmount')?.touched && betForm.get('betAmount')?.invalid" class="text-danger mt-1">
            <small *ngIf="betForm.get('betAmount')?.hasError('required')">El monto es obligatorio.</small>
            <small *ngIf="betForm.get('betAmount')?.hasError('min')">El monto debe ser mayor a 0.</small>
          </div>
        </div>

        <p class="mt-3">
          <strong>Posible Ganancia:</strong>
          <span class="text-success">{{ possibleWin | currency }}</span>
        </p>

        <button
          type="submit"
          class="btn btn-success btn-block"
          [disabled]="!betForm.valid || !selectedBet"
        >
          Confirmar Apuesta
        </button>
      </form>
    </div>
    <ng-template #noSelection>
      <p class="text-muted">Selecciona un equipo para comenzar.</p>
    </ng-template>
  </div>
</div>
